<?xml version="1.0" encoding="utf-8"?>
<page xmlns="http://projectmallard.org/1.0/" xmlns:its="http://www.w3.org/2005/11/its" type="topic" style="task" id="dconf-lockdown" xml:lang="cs">

  <info>
    <link type="guide" xref="user-settings#lockdown"/>
    <link type="guide" xref="setup"/>
<!--    <link type="seealso" xref="dconf-profiles" />-->
    <revision version="0.1" date="2012-05-21" status="review"/>
    <revision pkgversion="3.8" date="2013-04-26" status="review"/>
    <revision pkgversion="3.15" date="2015-02-13" status="review"/>

    <credit type="author copyright">
      <name>Ryan Lortie</name>
      <email>desrt@desrt.ca</email>
      <years>2012</years>
    </credit>
    <credit type="copyright editor">
      <name>Ekaterina Gerasimova</name>
      <email>kittykat3756@gmail.com</email>
      <years>2013, 2015</years>
    </credit>

    <include xmlns="http://www.w3.org/2001/XInclude" href="legal.xml"/>

    <desc>Jak použít <em>zamykací</em> režim v <sys its:translate="no">dconf</sys> k zabránění uživatelům měnit konkrétní nastavení.</desc>
  </info>

  <title>Uzamknutí konkrétních nastavení</title>

  <!-- TODO: reveiw against dconf-custom-defaults.page -->

  <p>Abyste <em>zamknuli</em> klíč <sys its:translate="no">dconf</sys>, potřebujete vytvořit podsložku <file its:translate="no">locks</file> ve složce se soubory s klíči. Soubory v této složce obsahují seznam klíčů, které se mají zamknout. Stejně jako u souborů s klíči, můžete do této složky přidat libovolný počet souborů. Zde je příklad, jak nějak to může vypadat:</p>

  <steps>
    <title>Uzamknutí nastavení</title>
    <item>
      <p>Než můžete klíč zamknout, je potřeba jej nejprve nastavit. Tento příklad ukazuje, jak zamknout <link xref="desktop-background">nastavení pozadí</link> po té, co jej máte nastavené. V tuto chvíli byste měli mít <link xref="dconf-profiles">profil <sys>user</sys></link> a <link xref="dconf-keyfiles">soubor s klíči</link> s nastavením, které chcete zamknout.</p>
    </item>
    <item>
      <p>Vytvořte složku nazvanou <file its:translate="no">/etc/dconf/db/local.d/locks</file>.</p>
    </item>
    <item>
      <p>Vytvořte soubor ve složce <file its:translate="no">/etc/dconf/db/local.d/locks/</file> a seznam s právě jedním klíčem na řádek. Například vytvořte <file its:translate="no">/etc/dconf/db/local.d/locks/00_default-wallpaper</file>:</p>
<code its:translate="no">
# <span its:translate="yes">Zabrání zásahům do pozadí</span>
/org/gnome/desktop/background/picture-uri
/org/gnome/desktop/background/picture-options
/org/gnome/desktop/background/primary-color
/org/gnome/desktop/background/secondary-color
</code>
    </item>
    <include xmlns="http://www.w3.org/2001/XInclude" href="dconf-snippets.xml" xpointer="xpointer(/*/*[@xml:id='dconf-update'])"/>
  </steps>

  <note>
    <p>Od <app its:translate="no">dconf</app> 0.7.4 je zamykání z výkonnostních důvodů podporované pouze na základě klíčů. Nemůžete zamknout celou cestu. Pro budoucí verze je to ale v plánu.</p>
  </note>

</page>
