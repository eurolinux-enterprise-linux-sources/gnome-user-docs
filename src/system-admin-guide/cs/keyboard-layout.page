<?xml version="1.0" encoding="utf-8"?>
<page xmlns="http://projectmallard.org/1.0/" type="topic" style="task" id="keyboard-layout" xml:lang="cs">

  <info>
    <link type="guide" xref="login#management"/>
    <revision pkgversion="3.11" date="2014-01-29" status="draft"/>

    <credit type="author copyright">
      <name>minnie_eg</name>
      <email>amany.elguindy@gmail.com</email>
      <years>2012</years>
    </credit>
    <credit type="editor">
      <name>Ekaterina Gerasimova</name>
      <email>kittykat3756@gmail.com</email>
      <years>2012</years>
    </credit>
    <credit type="editor">
      <name>Petr Kovar</name>
      <email>pknbe@volny.cz</email>
      <years>2014</years>
    </credit>

    <include xmlns="http://www.w3.org/2001/XInclude" href="legal.xml"/>

    <desc>Jak na přihlašovací obrazovku doplnit výběr rozložení klávesnice.</desc>
  </info>

  <title>Zobrazení více rozložení klávesnice na přihlašovací obrazovce</title>

  <p>Můžete změnit systémové nastavení rozložení klávesnice, abyste přidali doplňující rozložení, která si pak uživatel může vybrat na přihlašovací obrazovce. To se může hodit uživatelům, kteří normálně používají jiné rozložení klávesnice, než je výchozí, a kteří chtějí mít toto rozložení přístupné i při přihlašování.</p>

  <steps>
    <title>Změna nastavení systémového rozložení klávesnice</title>
    <item>
      <p>Najděte si kódy požadovaných jazykových rozložení v souboru <file>/usr/share/X11/xkb/rules/base.lst</file> v části nazvané <sys>! layout</sys>.</p>
    </item>
    <item>
      <p>Použijte následujícím způsobem nástroj <cmd>localectl</cmd> ke změně systémového nastavení rozložení klávesnice:</p>
      <screen><cmd>localectl set-x11-keymap <var>rozložení</var></cmd></screen>
      <p>Můžete zadat i více rozložení v podobě čárkami oddělovaného seznamu. Například pro nastavení <sys>cz</sys> jako výchozího rozložení a <sys>us</sys> jako doplňujícího rozložení spusťte následující příkaz:</p>
      <screen><output>$ </output><input>localectl set-x11-keymap cz,us</input></screen>
    </item>
    <item>
      <p>Odhlaste se, abyste se mohli podívat, jestli jsou zadaná rozložení dostupná na horní liště přihlašovací obrazovky.</p>
    </item>
  </steps>
  <p>Nutno ještě podotknout, že nástroj <cmd>localectl</cmd> se dá použít i k určení modelu, varianty a voleb klávesnice pro celý systém. Více informací viz manuálová stránka <cmd>localectl</cmd>.</p>

  <section id="keyboard-layout-no-localectl">
  <title>Zobrazení více rozložení klávesnice pomocí localectl</title>

  <p>V systémech, které neposkytují nástroj <cmd>localectl</cmd>, můžete změnit systémové nastavení rozložení klávesnice tak, že upravíte soubor s nastavením <file>/usr/share/X11/xorg.conf.d/</file>.</p>

  <steps>
    <title>Změna nastavení systémového rozložení klávesnice</title>
    <item>
      <p>Najděte si kódy požadovaných jazykových rozložení v souboru <file>/usr/share/X11/xkb/rules/base.lst</file> v části nazvané <sys>! layout</sys>.</p>
    </item>
    <item>
      <p>Přidejte kódy rozložení do <file>/usr/share/X11/xorg.conf.d/10-evdev.conf</file> následujícím způsobem:</p>
      <screen>
        Section "InputClass"
          Identifier "evdev keyboard catchall"
          MatchIsKeyboard "on"
          MatchDevicePath "/dev/input/event*"
          Driver "evdev"
          <input>Option "XkbLayout" "cz,fr"</input>
        EndSection
      </screen>
      <p>Lze přidat více rozložení v podobě čárkami oddělovaného seznamu, jak je ukázáno na příkladu pro české (<sys>cz</sys>) a francouzské (<sys>fr</sys>) rozložení.</p>
    </item>
    <item>
      <p>Odhlaste se, abyste se mohli podívat, jestli jsou zadaná rozložení dostupná na horní liště přihlašovací obrazovky.</p>
    </item>
  </steps>

  </section>

</page>
