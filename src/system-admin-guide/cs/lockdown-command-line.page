<?xml version="1.0" encoding="utf-8"?>
<page xmlns="http://projectmallard.org/1.0/" xmlns:its="http://www.w3.org/2005/11/its" type="topic" style="task" id="lockdown-command-line" xml:lang="cs">

  <info>
    <link type="guide" xref="software#management"/>
    <revision pkgversion="3.12" date="2014-06-18" status="review"/>

    <credit type="author copyright">
      <name>Petr Kovar</name>
      <email>pknbe@volny.cz</email>
      <years>2014</years>
    </credit>
    <credit type="author copyright">
      <name>Ekaterina Gerasimova</name>
      <email>kittykat3756@gmail.com</email>
      <years>2014</years>
    </credit>

    <include xmlns="http://www.w3.org/2001/XInclude" href="legal.xml"/>

    <desc>Jak zabránit uživatelům v přístupu k příkazové řádce.</desc>
  </info>

  <title>Zamezení přístupu k příkazové řádce</title>

  <p>Můžete uživatelům zabránit, aby měli přístup k příkazovému řádku přes virtuální terminály a terminálové aplikace pomocí kroků popsaných níže.</p>

  <list>
    <item>
      <p>předejít přístupu uživatele k příkazovému řádku přes <keyseq><key>Alt</key><key>F2</key></keyseq></p>
    </item>
    <item>
      <p>zakázat přepnutí do virtuálního terminálu (VT)</p>
    </item>
    <item>
      <p>odstranit <app>Terminál</app> a všechny další terminálové aplikace z přehledu <gui>Činností</gui> v GNOME Shellu a zamezit uživatelům v instalaci nových terminálových aplikací</p>
    </item>
  </list>

<section id="command-prompt">
  <title>Zakázání příkazového řádku</title>

  <steps>
    <include xmlns="http://www.w3.org/2001/XInclude" href="dconf-snippets.xml" xpointer="xpointer(/*/*[@xml:id='dconf-profile-user'])"/>
    <item>
      <p>Vytvořte databázi <sys>local</sys> pro celosystémová nastavení v <file>/etc/dconf/db/local.d/00-lockdown</file>:</p>
      <code># Určuje cestu v dconf
[org/gnome/desktop/lockdown]

# Zakazuje příkazový řádek
disable-command-line=true</code>
    </item>
    <item>
      <p>Přepište uživatelova nastavení a zabraňte mu ve změnách pomocí souboru <file>/etc/dconf/db/local.d/locks/lockdown</file>:</p>
      <code># Uvádí klíče použité k uzamknutí nastavení
/org/gnome/desktop/lockdown/disable-command-line</code>
    </item>
    <include xmlns="http://www.w3.org/2001/XInclude" href="dconf-snippets.xml" xpointer="xpointer(/*/*[@xml:id='dconf-update'])"/>
    <include xmlns="http://www.w3.org/2001/XInclude" href="dconf-snippets.xml" xpointer="xpointer(/*/*[@xml:id='dconf-logoutin'])"/>
  </steps>
</section>

<section id="virtual-terminal">
  <title>Zablokování přepnutí do virtuálního terminálu</title>

  <p>Normálně mohou uživatelé používat klávesové zkratky <keyseq><key>Ctrl</key><key>Alt</key><key><var>funkční klávesa</var></key></keyseq> (napřílad <keyseq><key>Ctrl</key><key>Alt</key><key>F2</key></keyseq>) pro přepnutí z uživatelského prostředí GNOME do virtuálního terminálu.</p>

  <p>Jestliže na počítači běží <em>systém X Window</em>, můžete zablokovat přístup ke všem virtuálním terminálům přidáním volby <code>DontVTSwitch</code> do oddílu <code>Serverflags</code> v souboru <file>/etc/X11/xorg.conf.d</file>.</p>

  <steps>
    <item>
      <p>Vytvořte nebo upravte soubor s nastavením X v <file>/etc/X11/xorg.conf.d</file>:</p>
      <code>Section "Serverflags"

Option "DontVTSwitch" "yes"

EndSection</code>
    </item>
    <item>
      <p>Restartujte GDM, aby se změny projevily.</p>
    </item>
  </steps>

</section>

<!-- TODO: add section for removing applications from the Activities overview. -->
</page>
