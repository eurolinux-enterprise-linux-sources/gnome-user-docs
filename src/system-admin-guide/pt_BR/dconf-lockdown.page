<?xml version="1.0" encoding="utf-8"?>
<page xmlns="http://projectmallard.org/1.0/" xmlns:its="http://www.w3.org/2005/11/its" type="topic" style="task" id="dconf-lockdown" xml:lang="pt-BR">

  <info>
    <link type="guide" xref="user-settings#lockdown"/>
    <link type="guide" xref="setup"/>
<!--    <link type="seealso" xref="dconf-profiles" />-->
    <revision version="0.1" date="2012-05-21" status="review"/>
    <revision pkgversion="3.8" date="2013-04-26" status="review"/>
    <revision pkgversion="3.15" date="2015-02-13" status="review"/>

    <credit type="author copyright">
      <name>Ryan Lortie</name>
      <email>desrt@desrt.ca</email>
      <years>2012</years>
    </credit>
    <credit type="copyright editor">
      <name>Ekaterina Gerasimova</name>
      <email>kittykat3756@gmail.com</email>
      <years>2013, 2015</years>
    </credit>

    <include xmlns="http://www.w3.org/2001/XInclude" href="legal.xml"/>

    <desc>Use o modo <em>lockdown</em> em <sys its:translate="no">dconf</sys> para evitar que usuários alterem configurações específicas.</desc>
  
    <mal:credit xmlns:mal="http://projectmallard.org/1.0/" type="translator copyright">
      <mal:name>Rafael Fontenelle</mal:name>
      <mal:email>rafaelff@gnome.org</mal:email>
      <mal:years>2017</mal:years>
    </mal:credit>
  </info>

  <title>Bloqueando configurações específicas</title>

  <!-- TODO: reveiw against dconf-custom-defaults.page -->

  <p>Para <em>bloquear</em> uma chave <sys its:translate="no">dconf</sys>, você precisará criar um subdiretório <file its:translate="no">locks</file> no diretório de arquivo de chave. Os arquivos dentro deste diretório contêm uma lista de chaves para bloquear. Assim como com os arquivos de chave, você pode adicionar qualquer número de arquivos a este diretório. Aqui está um exemplo de como se que pode parecer:</p>

  <steps>
    <title>Bloqueando uma configuração</title>
    <item>
      <p>Antes que você possa bloquear uma chave, primeiro você precisa defini-la. Esse exemplo mostra como bloquear <link xref="desktop-background">uma configuração de plano de fundo</link> uma vez que ela tenha sido definida. A esse ponto, você deve ter <link xref="dconf-profiles">um perfil <sys>user</sys></link> e <link xref="dconf-keyfiles">um arquivo de chave</link> com as configurações que você deseja bloquear.</p>
    </item>
    <item>
      <p>Crie um diretório chamado <file its:translate="no">/etc/dconf/db/local.d/locks</file>.</p>
    </item>
    <item>
      <p>Crie um arquivo no diretório <file its:translate="no">/etc/dconf/db/local.d/locks/</file> e liste uma chave por linha. Por exemplo, crie <file its:translate="no">/etc/dconf/db/local.d/locks/00_default-wallpaper</file>:</p>
<code its:translate="no">
# <span its:translate="yes">evita alterações ao plano de fundo</span>
/org/gnome/desktop/background/picture-uri
/org/gnome/desktop/background/picture-options
/org/gnome/desktop/background/primary-color
/org/gnome/desktop/background/secondary-color
</code>
    </item>
    <include xmlns="http://www.w3.org/2001/XInclude" href="dconf-snippets.xml" xpointer="xpointer(/*/*[@xml:id='dconf-update'])"/>
  </steps>

  <note>
    <p>Desde <app its:translate="no">dconf</app> 0.7.4, só há suporte a bloqueio por chave por motivos de desempenho; você ainda não pode bloquear subcaminhos inteiros. Há planos para resolver isso em lançamentos futuros.</p>
  </note>

</page>
